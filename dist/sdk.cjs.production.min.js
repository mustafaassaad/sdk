"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("@ethersproject/contracts"),n=require("@ethersproject/bignumber"),t={abi:[{inputs:[{internalType:"address",name:"newResolver",type:"address"},{internalType:"address payable",name:"newBeneficiary",type:"address"},{internalType:"address",name:"newAdmin",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"is721",type:"bool"},{indexed:!0,internalType:"address",name:"lenderAddress",type:"address"},{indexed:!0,internalType:"address",name:"nftAddress",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenID",type:"uint256"},{indexed:!1,internalType:"uint256",name:"lendingID",type:"uint256"},{indexed:!1,internalType:"uint8",name:"maxRentDuration",type:"uint8"},{indexed:!1,internalType:"bytes4",name:"dailyRentPrice",type:"bytes4"},{indexed:!1,internalType:"uint16",name:"lendAmount",type:"uint16"},{indexed:!1,internalType:"enum IResolver.PaymentToken",name:"paymentToken",type:"uint8"}],name:"Lend",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"renterAddress",type:"address"},{indexed:!0,internalType:"uint256",name:"lendingID",type:"uint256"},{indexed:!0,internalType:"uint256",name:"rentingID",type:"uint256"},{indexed:!1,internalType:"uint16",name:"rentAmount",type:"uint16"},{indexed:!1,internalType:"uint8",name:"rentDuration",type:"uint8"},{indexed:!1,internalType:"uint32",name:"rentedAt",type:"uint32"}],name:"Rent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"rentingID",type:"uint256"},{indexed:!1,internalType:"uint32",name:"collectedAt",type:"uint32"}],name:"RentClaimed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"lendingID",type:"uint256"},{indexed:!1,internalType:"uint32",name:"stoppedAt",type:"uint32"}],name:"StopLend",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"rentingID",type:"uint256"},{indexed:!1,internalType:"uint32",name:"stoppedAt",type:"uint32"}],name:"StopRent",type:"event"},{inputs:[{internalType:"enum IRegistry.NFTStandard[]",name:"nftStandard",type:"uint8[]"},{internalType:"address[]",name:"nftAddress",type:"address[]"},{internalType:"uint256[]",name:"tokenID",type:"uint256[]"},{internalType:"uint256[]",name:"_lendingID",type:"uint256[]"},{internalType:"uint256[]",name:"_rentingID",type:"uint256[]"}],name:"claimRent",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"nftAddress",type:"address"},{internalType:"uint256",name:"tokenID",type:"uint256"},{internalType:"uint256",name:"_lendingID",type:"uint256"}],name:"getLending",outputs:[{internalType:"uint8",name:"",type:"uint8"},{internalType:"address",name:"",type:"address"},{internalType:"uint8",name:"",type:"uint8"},{internalType:"bytes4",name:"",type:"bytes4"},{internalType:"uint16",name:"",type:"uint16"},{internalType:"uint16",name:"",type:"uint16"},{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"nftAddress",type:"address"},{internalType:"uint256",name:"tokenID",type:"uint256"},{internalType:"uint256",name:"_rentingID",type:"uint256"}],name:"getRenting",outputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint16",name:"",type:"uint16"},{internalType:"uint8",name:"",type:"uint8"},{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"enum IRegistry.NFTStandard[]",name:"nftStandard",type:"uint8[]"},{internalType:"address[]",name:"nftAddress",type:"address[]"},{internalType:"uint256[]",name:"tokenID",type:"uint256[]"},{internalType:"uint256[]",name:"lendAmount",type:"uint256[]"},{internalType:"uint8[]",name:"maxRentDuration",type:"uint8[]"},{internalType:"bytes4[]",name:"dailyRentPrice",type:"bytes4[]"},{internalType:"enum IResolver.PaymentToken[]",name:"paymentToken",type:"uint8[]"}],name:"lend",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155BatchReceived",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"enum IRegistry.NFTStandard[]",name:"nftStandard",type:"uint8[]"},{internalType:"address[]",name:"nftAddress",type:"address[]"},{internalType:"uint256[]",name:"tokenID",type:"uint256[]"},{internalType:"uint256[]",name:"_lendingID",type:"uint256[]"},{internalType:"uint8[]",name:"rentDuration",type:"uint8[]"},{internalType:"uint256[]",name:"rentAmount",type:"uint256[]"}],name:"rent",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"rentFee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address payable",name:"newBeneficiary",type:"address"}],name:"setBeneficiary",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"newPaused",type:"bool"}],name:"setPaused",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newRentFee",type:"uint256"}],name:"setRentFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"enum IRegistry.NFTStandard[]",name:"nftStandard",type:"uint8[]"},{internalType:"address[]",name:"nftAddress",type:"address[]"},{internalType:"uint256[]",name:"tokenID",type:"uint256[]"},{internalType:"uint256[]",name:"_lendingID",type:"uint256[]"}],name:"stopLend",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"enum IRegistry.NFTStandard[]",name:"nftStandard",type:"uint8[]"},{internalType:"address[]",name:"nftAddress",type:"address[]"},{internalType:"uint256[]",name:"tokenID",type:"uint256[]"},{internalType:"uint256[]",name:"_lendingID",type:"uint256[]"},{internalType:"uint256[]",name:"_rentingID",type:"uint256[]"}],name:"stopRent",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}]},r={abi:[{inputs:[{internalType:"address",name:"_resolver",type:"address"},{internalType:"address payable",name:"_beneficiary",type:"address"},{internalType:"address",name:"_admin",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"lendingId",type:"uint256"},{indexed:!1,internalType:"uint32",name:"claimedAt",type:"uint32"}],name:"CollateralClaimed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"lendingId",type:"uint256"},{indexed:!1,internalType:"uint32",name:"stoppedAt",type:"uint32"}],name:"LendingStopped",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"nftAddress",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint8",name:"lentAmount",type:"uint8"},{indexed:!1,internalType:"uint256",name:"lendingId",type:"uint256"},{indexed:!0,internalType:"address",name:"lenderAddress",type:"address"},{indexed:!1,internalType:"uint8",name:"maxRentDuration",type:"uint8"},{indexed:!1,internalType:"bytes4",name:"dailyRentPrice",type:"bytes4"},{indexed:!1,internalType:"bytes4",name:"nftPrice",type:"bytes4"},{indexed:!1,internalType:"bool",name:"isERC721",type:"bool"},{indexed:!1,internalType:"enum IResolver.PaymentToken",name:"paymentToken",type:"uint8"}],name:"Lent",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"lendingId",type:"uint256"},{indexed:!0,internalType:"address",name:"renterAddress",type:"address"},{indexed:!1,internalType:"uint8",name:"rentDuration",type:"uint8"},{indexed:!1,internalType:"uint32",name:"rentedAt",type:"uint32"}],name:"Rented",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"lendingId",type:"uint256"},{indexed:!1,internalType:"uint32",name:"returnedAt",type:"uint32"}],name:"Returned",type:"event"},{inputs:[{internalType:"address[]",name:"_nfts",type:"address[]"},{internalType:"uint256[]",name:"_tokenIds",type:"uint256[]"},{internalType:"uint256[]",name:"_lendingIds",type:"uint256[]"}],name:"claimCollateral",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"_nfts",type:"address[]"},{internalType:"uint256[]",name:"_tokenIds",type:"uint256[]"},{internalType:"uint256[]",name:"_lendAmounts",type:"uint256[]"},{internalType:"uint8[]",name:"_maxRentDurations",type:"uint8[]"},{internalType:"bytes4[]",name:"_dailyRentPrices",type:"bytes4[]"},{internalType:"bytes4[]",name:"_nftPrices",type:"bytes4[]"},{internalType:"enum IResolver.PaymentToken[]",name:"_paymentTokens",type:"uint8[]"}],name:"lend",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155BatchReceived",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"_nfts",type:"address[]"},{internalType:"uint256[]",name:"_tokenIds",type:"uint256[]"},{internalType:"uint256[]",name:"_lendingIds",type:"uint256[]"},{internalType:"uint8[]",name:"_rentDurations",type:"uint8[]"}],name:"rent",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"rentFee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"_nfts",type:"address[]"},{internalType:"uint256[]",name:"_tokenIds",type:"uint256[]"},{internalType:"uint256[]",name:"_lendingIds",type:"uint256[]"}],name:"returnIt",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address payable",name:"_newBeneficiary",type:"address"}],name:"setBeneficiary",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"_paused",type:"bool"}],name:"setPaused",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_rentFee",type:"uint256"}],name:"setRentFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"_nfts",type:"address[]"},{internalType:"uint256[]",name:"_tokenIds",type:"uint256[]"},{internalType:"uint256[]",name:"_lendingIds",type:"uint256[]"}],name:"stopLending",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}]};function a(e,n,t,r,a,i,u){try{var o=e[i](u),s=o.value}catch(e){return void t(e)}o.done?n(s):Promise.resolve(s).then(r,a)}function i(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var u=e.apply(n,t);function o(e){a(u,r,i,o,s,"next",e)}function s(e){a(u,r,i,o,s,"throw",e)}o(void 0)}))}}var u,o,s,p=(function(e){var n=function(e){var n=Object.prototype,t=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",u=r.toStringTag||"@@toStringTag";function o(e,n,t){return Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}),e[n]}try{o({},"")}catch(e){o=function(e,n,t){return e[n]=t}}function s(e,n,t,r){var a=Object.create((n&&n.prototype instanceof d?n:d).prototype),i=new I(r||[]);return a._invoke=function(e,n,t){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return{value:void 0,done:!0}}for(t.method=a,t.arg=i;;){var u=t.delegate;if(u){var o=g(u,t);if(o){if(o===y)continue;return o}}if("next"===t.method)t.sent=t._sent=t.arg;else if("throw"===t.method){if("suspendedStart"===r)throw r="completed",t.arg;t.dispatchException(t.arg)}else"return"===t.method&&t.abrupt("return",t.arg);r="executing";var s=p(e,n,t);if("normal"===s.type){if(r=t.done?"completed":"suspendedYield",s.arg===y)continue;return{value:s.arg,done:t.done}}"throw"===s.type&&(r="completed",t.method="throw",t.arg=s.arg)}}}(e,t,i),a}function p(e,n,t){try{return{type:"normal",arg:e.call(n,t)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var y={};function d(){}function l(){}function c(){}var m={};m[a]=function(){return this};var f=Object.getPrototypeOf,b=f&&f(f(w([])));b&&b!==n&&t.call(b,a)&&(m=b);var h=c.prototype=d.prototype=Object.create(m);function T(e){["next","throw","return"].forEach((function(n){o(e,n,(function(e){return this._invoke(n,e)}))}))}function v(e,n){var r;this._invoke=function(a,i){function u(){return new n((function(r,u){!function r(a,i,u,o){var s=p(e[a],e,i);if("throw"!==s.type){var y=s.arg,d=y.value;return d&&"object"==typeof d&&t.call(d,"__await")?n.resolve(d.__await).then((function(e){r("next",e,u,o)}),(function(e){r("throw",e,u,o)})):n.resolve(d).then((function(e){y.value=e,u(y)}),(function(e){return r("throw",e,u,o)}))}o(s.arg)}(a,i,r,u)}))}return r=r?r.then(u,u):u()}}function g(e,n){var t=e.iterator[n.method];if(void 0===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=void 0,g(e,n),"throw"===n.method))return y;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var r=p(t,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,y;var a=r.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function x(e){var n={tryLoc:e[0]};1 in e&&(n.catchLoc=e[1]),2 in e&&(n.finallyLoc=e[2],n.afterLoc=e[3]),this.tryEntries.push(n)}function D(e){var n=e.completion||{};n.type="normal",delete n.arg,e.completion=n}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function w(e){if(e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function n(){for(;++r<e.length;)if(t.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=void 0,n.done=!0,n};return i.next=i}}return{next:k}}function k(){return{value:void 0,done:!0}}return l.prototype=h.constructor=c,c.constructor=l,l.displayName=o(c,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var n="function"==typeof e&&e.constructor;return!!n&&(n===l||"GeneratorFunction"===(n.displayName||n.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,o(e,u,"GeneratorFunction")),e.prototype=Object.create(h),e},e.awrap=function(e){return{__await:e}},T(v.prototype),v.prototype[i]=function(){return this},e.AsyncIterator=v,e.async=function(n,t,r,a,i){void 0===i&&(i=Promise);var u=new v(s(n,t,r,a),i);return e.isGeneratorFunction(t)?u:u.next().then((function(e){return e.done?e.value:u.next()}))},T(h),o(h,u,"Generator"),h[a]=function(){return this},h.toString=function(){return"[object Generator]"},e.keys=function(e){var n=[];for(var t in e)n.push(t);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=w,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(D),!e)for(var n in this)"t"===n.charAt(0)&&t.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(t,r){return u.type="throw",u.arg=e,n.next=t,r&&(n.method="next",n.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],u=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var o=t.call(i,"catchLoc"),s=t.call(i,"finallyLoc");if(o&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(o){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,n){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&t.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=n&&n<=i.finallyLoc&&(i=null);var u=i?i.completion:{};return u.type=e,u.arg=n,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(u)},complete:function(e,n){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&n&&(this.next=n),y},finish:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),D(t),y}},catch:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.tryLoc===e){var r=t.completion;if("throw"===r.type){var a=r.arg;D(t)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,t){return this.delegate={iterator:w(e),resultName:n,nextLoc:t},"next"===this.method&&(this.arg=void 0),y}},e}(e.exports);try{regeneratorRuntime=n}catch(e){Function("r","regeneratorRuntime = r")(n)}}(s={exports:{}}),s.exports),y="0x94d8f036a0fbc216bb532d33bdf6564157af0cd7",d=function(e,n){if(n>32)throw new Error("bitsize "+n+" above maximum value 32");if(e<0)throw new Error("unsigned number not supported");var t=Math.ceil(n/8);return"0x"+(e>>>0).toString(16).toUpperCase().padStart(function(e){if("number"!=typeof e)throw new Error("only numbers supported");if(e<1)throw new Error("invalid byteCount");return 2*e}(t),"0")},l=function(e){if(e>9999.9999)throw new Error("supplied price exceeds 9999.9999");var n=e.toString().split("."),t=Number(n[0]);if(t<0)throw new Error("can't pack negative price");var r=d(Number(t),16);if(1===n.length)return r.concat("0000");if(2!==n.length)throw new Error("price packing issue");var a=function(e){for(var n=e.length,t=0;t<4-n;t++)e+="0";return Number(e)}(n[1].slice(0,4));return r.concat(d(Number(a),16).slice(2))},c=function(e,n){return e.length===n.length},m=function(e){if(1===e.nftAddress.length)return e;!function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];for(var r=n[0],a=0,i=n;a<i.length;a++){var u=i[a];if(u){if(!c(r,u))throw new Error("args length variable");r=u}}}(Object.values(e));var n=new Map,t={nftAddress:[],tokenID:[]},r=function(e){for(var n=new Array(e.length),t=0;t<e.length;++t)n[t]=t;return n.sort((function(n,t){return e[n].lt(e[t])?-1:e[n].gt(e[t])?1:0})),{sortedTokenID:a(n,e),argsort:n}},a=function(e,n){return e.map((function(e){return n[e]}))};Object.values(e.nftAddress).forEach((function(t,r){n=n.has(t)?function(t,r){for(var a=n.get(t),i=0,u=Object.entries(e);i<u.length;i++){var o,s=u[i],p=s[0],y=s[1];if(!a)throw new Error("could not find "+t);y&&(a[p]=[].concat(null!=(o=a[p])?o:[],[y[r]]))}return n}(t,r):function(t,r){return n.set(t,{nftStandard:e.nftStandard?[e.nftStandard[r]]:void 0,nftAddress:[t],tokenID:[e.tokenID[r]],amount:e.amount?[e.amount[r]]:void 0,maxRentDuration:e.maxRentDuration?[e.maxRentDuration[r]]:void 0,dailyRentPrice:e.dailyRentPrice?[e.dailyRentPrice[r]]:void 0,nftPrice:e.nftPrice?[e.nftPrice[r]]:void 0,paymentToken:e.paymentToken?[e.paymentToken[r]]:void 0,rentDuration:e.rentDuration?[e.rentDuration[r]]:void 0,lendingID:e.lendingID?[e.lendingID[r]]:void 0,rentingID:e.rentingID?[e.rentingID[r]]:void 0,rentAmount:e.rentAmount?[e.rentAmount[r]]:void 0}),n}(t,r)}));for(var i=n.keys();i;){var u=i.next().value;if(!u)break;for(var o=n.get(u),s=r(o.tokenID).argsort,p=0,y=Object.keys(o);p<y.length;p++){var d,l,m=y[p];if(o[m]){var f=a(s,null!=(d=o[m])?d:[]);t[m]=[].concat(null!=(l=t[m])?l:[],f)}}}return t},f=function(){function r(n,r){this.signer=n,this.contract=new e.Contract(null!=r?r:"0xa8D3F65b6E2922fED1430b77aC2b557e1fa8DA4a",t.abi,this.signer)}var a=r.prototype;return a.lend=function(){var e=i(p.mark((function e(t,r,a,i,u,o,s){var y;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y=m({nftStandard:t,nftAddress:r.map((function(e){return String(e).toLowerCase()})),tokenID:a.map((function(e){return n.BigNumber.from(e)})),amount:i.map((function(e){return Number(e)})),maxRentDuration:u.map((function(e){return Number(e)})),dailyRentPrice:o.map((function(e){return l(Number(e).toString())})),paymentToken:s}),e.next=3,this.contract.lend(y.nftStandard,y.nftAddress,y.tokenID,y.amount,y.maxRentDuration,y.dailyRentPrice,y.paymentToken);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(n,t,r,a,i,u,o){return e.apply(this,arguments)}}(),a.rent=function(){var e=i(p.mark((function e(t,r,a,i,u,o){var s;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=m({nftStandard:t.map((function(e){return Number(e)})),nftAddress:r.map((function(e){return String(e).toLowerCase()})),tokenID:a.map((function(e){return n.BigNumber.from(e)})),lendingID:i.map((function(e){return n.BigNumber.from(e)})),rentDuration:u.map((function(e){return Number(e)})),rentAmount:o.map((function(e){return n.BigNumber.from(e)}))}),e.next=3,this.contract.rent(s.nftStandard,s.nftAddress,s.tokenID,s.lendingID,s.rentDuration,s.rentAmount);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(n,t,r,a,i,u){return e.apply(this,arguments)}}(),a.returnIt=function(){var e=i(p.mark((function e(t,r,a,i,u){var o;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=m({nftStandard:t.map((function(e){return Number(e)})),nftAddress:r.map((function(e){return String(e).toLowerCase()})),tokenID:a.map((function(e){return n.BigNumber.from(e)})),lendingID:i.map((function(e){return n.BigNumber.from(e)})),rentingID:u.map((function(e){return n.BigNumber.from(e)}))}),e.next=3,this.contract.stopRent(o.nftStandard,o.nftAddress,o.tokenID,o.lendingID,o.rentingID);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(n,t,r,a,i){return e.apply(this,arguments)}}(),a.claimCollateral=function(){var e=i(p.mark((function e(t,r,a,i,u){var o;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=m({nftStandard:t.map((function(e){return Number(e)})),nftAddress:r.map((function(e){return String(e).toLowerCase()})),tokenID:a.map((function(e){return n.BigNumber.from(e)})),lendingID:i.map((function(e){return n.BigNumber.from(e)})),rentingID:u.map((function(e){return n.BigNumber.from(e)}))}),e.next=3,this.contract.claimRent(o.nftStandard,o.nftAddress,o.tokenID,o.lendingID,o.rentingID);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(n,t,r,a,i){return e.apply(this,arguments)}}(),a.stopLending=function(){var e=i(p.mark((function e(t,r,a,i){var u;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=m({nftStandard:t.map((function(e){return Number(e)})),nftAddress:r.map((function(e){return String(e).toLowerCase()})),tokenID:a.map((function(e){return n.BigNumber.from(e)})),lendingID:i.map((function(e){return n.BigNumber.from(e)}))}),e.next=3,this.contract.stopLend(u.nftStandard,u.nftAddress,u.tokenID,u.lendingID);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(n,t,r,a){return e.apply(this,arguments)}}(),r}(),b=function(){function t(n,t){this.signer=n,this.contract=new e.Contract(null!=t?t:y,r.abi,this.signer)}var a=t.prototype;return a.lend=function(){var e=i(p.mark((function e(t,r,a,i,u,o,s){var y;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y=m({nftAddress:t.map((function(e){return String(e).toLowerCase()})),tokenID:r.map((function(e){return n.BigNumber.from(e)})),amount:a.map((function(e){return Number(e)})),maxRentDuration:i.map((function(e){return Number(e)})),dailyRentPrice:u.map((function(e){return l(Number(e).toString())})),nftPrice:o.map((function(e){return l(Number(e).toString())})),paymentToken:s}),e.next=3,this.contract.lend(y.nftAddress,y.tokenID,y.amount,y.maxRentDuration,y.dailyRentPrice,y.nftPrice,y.paymentToken);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(n,t,r,a,i,u,o){return e.apply(this,arguments)}}(),a.rent=function(){var e=i(p.mark((function e(t,r,a,i){var u;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=m({nftAddress:t.map((function(e){return String(e).toLowerCase()})),tokenID:r.map((function(e){return n.BigNumber.from(e)})),lendingID:a.map((function(e){return n.BigNumber.from(e)})),rentDuration:i.map((function(e){return Number(e)}))}),e.next=3,this.contract.rent(u.nftAddress,u.tokenID,u.lendingID,u.rentDuration);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(n,t,r,a){return e.apply(this,arguments)}}(),a.returnIt=function(){var e=i(p.mark((function e(t,r,a){var i;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=m({nftAddress:t.map((function(e){return String(e).toLowerCase()})),tokenID:r.map((function(e){return n.BigNumber.from(e)})),lendingID:a.map((function(e){return n.BigNumber.from(e)}))}),e.next=3,this.contract.returnIt(i.nftAddress,i.tokenID,i.lendingID);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(n,t,r){return e.apply(this,arguments)}}(),a.claimCollateral=function(){var e=i(p.mark((function e(t,r,a){var i;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=m({nftAddress:t.map((function(e){return String(e).toLowerCase()})),tokenID:r.map((function(e){return n.BigNumber.from(e)})),lendingID:a.map((function(e){return n.BigNumber.from(e)}))}),e.next=3,this.contract.claimCollateral(i.nftAddress,i.tokenID,i.lendingID);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(n,t,r){return e.apply(this,arguments)}}(),a.stopLending=function(){var e=i(p.mark((function e(t,r,a){var i;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=m({nftAddress:t.map((function(e){return String(e).toLowerCase()})),tokenID:r.map((function(e){return n.BigNumber.from(e)})),lendingID:a.map((function(e){return n.BigNumber.from(e)}))}),e.next=3,this.contract.stopLending(i.nftAddress,i.tokenID,i.lendingID);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(n,t,r){return e.apply(this,arguments)}}(),t}();(u=exports.PaymentToken||(exports.PaymentToken={}))[u.SENTINEL=0]="SENTINEL",u[u.WETH=1]="WETH",u[u.DAI=2]="DAI",u[u.USDC=3]="USDC",u[u.USDT=4]="USDT",u[u.TUSD=5]="TUSD",u[u.RENT=6]="RENT",(o=exports.NFTStandard||(exports.NFTStandard={}))[o.E721=0]="E721",o[o.E1155=1]="E1155",exports.AZRAEL_ABI=r,exports.AZRAEL_ADDRESS=y,exports.Azrael=b,exports.RESOLVER_ABI={abi:[{inputs:[{internalType:"address",name:"_admin",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"uint8",name:"_pt",type:"uint8"}],name:"getPaymentToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint8",name:"_pt",type:"uint8"},{internalType:"address",name:"_v",type:"address"}],name:"setPaymentToken",outputs:[],stateMutability:"nonpayable",type:"function"}]},exports.RESOLVER_ADDRESS="0x945e589a4715d1915e6fe14f08e4887bc4019341",exports.RESOLVER_POLYGON_ADDRESS="0x6884d88Ce56C5C93F46eE23684eBA8628c90B518",exports.SYLVESTER_ABI=t,exports.SYLVESTER_ADDRESS="0xa8D3F65b6E2922fED1430b77aC2b557e1fa8DA4a",exports.SYLVESTER_POLYGON_ADDRESS="0xfA06cFE34C85Ec6b6D29A6a99806cC68BA0018Fe",exports.Sylvester=f,exports.packPrice=l,exports.prepareBatch=m,exports.toPaddedHex=d,exports.unpackPrice=function(e){var n,t,r,a=(n=Number(e),t=Math.ceil(4),r=Math.pow(2,32)-1,n<0&&(n=r+n+1),"0x"+(n>>>0).toString(16).toUpperCase().padStart(2*t,"0")).slice(2),i=parseInt(a.slice(0,4),16),u=parseInt(a.slice(4),16);i>9999&&(i=9999),u>9999&&(u=9999);for(var o=u.toString(),s=o.length,p=0;p<4-s;p++)o="0"+o;return parseFloat(i+"."+o)};
//# sourceMappingURL=sdk.cjs.production.min.js.map
